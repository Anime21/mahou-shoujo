<header class="sticky-top">
    <nav class="a21-header navbar navbar-expand-sm bg-primary">
        <div class="container">
            <span *ngIf="auth.canEditAnime(user)" mdbDropdown class="dropdown">
                <button type="button" class="btn fas fa-bars" id="dropdownMenuButton"
                    aria-expanded="false" mdbDropdownToggle #dropdown></button>
                <div mdbDropdownMenu class="a21-header-menu dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a *ngIf="auth.canAddAnime(user)" type="button" class="dropdown-item" routerLink="/add">Adicionar anime</a>
                    <button *ngIf="auth.canEditAnime(user)" type="button" class="dropdown-item" (click)="saveAnimesClick(dropdown);">Salvar animes</button>
                </div>
            </span>
            <span class="navbar-brand">Anime21</span>
            <ng-template [ngIf]="title.length > 0">
                <span class="navbar-text">::</span>
                <span class="navbar-text">{{title}}</span>
            </ng-template>
            <div class="form-check form-switch navbar-nav float-end">
                <input class="form-check-input" type="checkbox" id="darkMode">
                <label class="form-check-label fas fa-moon" for="darkMode"></label>
            </div>
            <div class="navbar-text login float-end">
                <div *ngIf="auth.user | async as user; else showLogin">
                    <span>Olá, {{ user.name }}!</span>
                    <a (click)="auth.signOut()">Sair</a>
                </div>
                <ng-template #showLogin>
                    <span>Bem-vindo!</span>
                    <a (click)="auth.signIn()">Faça login</a>
                </ng-template>
            </div>
        </div>
    </nav>
</header>